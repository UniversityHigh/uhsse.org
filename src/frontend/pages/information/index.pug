extends ../../partials/base.pug

block head
	+title("Information")

block body
	+body(name, lead, image)
		+section(contacts.name, contacts.lead, contacts.anchorId)
			.tabs-wrapper
				.tabs
					ul
						li.is-active #[a UHSSE Staff]
						li #[a Support Services]
				
				.tabs-content
					ul
						li.is-active
							.table-scroll
								table.table.is-striped.is-narrow.is-hoverable.is-fullwidth
									thead
										th Name
										th Position
										th Email
										th Website
									tbody
										each contact in contacts.staff
											tr
												td= contact.name
												td= contact.position
												td
													a(href=`mailto:${contact.email}`)= contact.email
												td
													if contact.website
														+link(contact.website, true)= contact.website.replace(/(^\w+:|^)\/\//, "")
						li
							+table(["Name", "Service", "Email", "Phone"])
								tbody
									each service in contacts.supportServices
										tr
											td= service.name
											td= service.position
											td
												+link(`mailto:${service.email}`, false)= service.email
											td
												+link(`tel:${service.phone}`, false)= service.phone

		+section(lunchMenu.name, lunchMenu.lead, lunchMenu.anchorId)
			if !lunchMenu.link
				+message("warning", "Missing Lunch Menu", "The lunch menu was unable to load. Please try refreshing the page.")
			else
				+iframe(`https://docs.google.com/gview?url=${lunchMenu.link}&embedded=true`)

		+section(parentOrganizations.name, parentOrganizations.lead, parentOrganizations.anchorId)
			.tabs-wrapper
				.tabs
					ul
						li.is-active #[a PTO]
						li #[a After Grad Party]
						li #[a SGC]
				
				.tabs-content
					ul
						li.is-active
							.columns
								- const pto = parentOrganizations.pto;
								+column-card("Officers")
									.field.is-grouped.is-grouped-multiline
										each officer in pto.officers
											.control
												.tags.has-addons
													span.tag= officer.position
													+link(`mailto:${officer.email}`, false)(class="tag is-link")= officer.name
								
								+column-card("Meeting Dates", true)
									p= pto.meetingDates.description
									b.has-text-weight-semibold Schedule
									ul
										each date in pto.meetingDates.dates
											li= date
								
								+column-card("Meeting Minutes", true)
									ul
										each minute in pto.meetingMinutes
											li
												+link(minute.link, true)= minute.date

								+column-card("Fundraisers", true)
									ul
										each fundraiser in pto.fundraisers
											li
												+link(fundraiser.link, true)= fundraiser.name
						
						li
							.columns
								- const afterGrad = parentOrganizations.afterGrad;
								+column-card("Meeting Dates", true)
									p= afterGrad.meetingDates.description
									b.has-text-weight-semibold= Schedule
									ul
										each date in afterGrad.meetingDates.dates
											li= date
								
								+column-card("Donation Forms", true)
									ul
										each form in afterGrad.donationForms
											li
												+link(form.link, true)= form.name
								
								+column-card("How Can You Help?", true)
									ul
										each aid in afterGrad.aids
											li
												+link(aid.link, true)= aid.name
								
								+column-card("Updates", true)
									ul
										each update in afterGrad.updates
											li
												+link(update.link, true)= update.name
								
								if !isEmptyObjectArray(afterGrad.officers)
									+column-card("Officers")
										.field.is-grouped.is-grouped-multiline
											each officer in afterGrad.officers
													.control
														.tags.has-addons
															span.tag= officer.position
															+link(`mailto:${officer.email}`, false)(class="tag is-link")= officer.name

								if !isEmptyObjectArray(afterGrad.meetingMinutes)
									+column-card("Meeting Minutes", true)
										ul
											each minute in afterGrad.meetingMinutes
												li
													+link(minute.link, true)= minute.date
						
						li
							.columns
								- const sgc = parentOrganizations.sgc;
								+column-card("Meeting Dates", true)
									p= sgc.meetingDates.description
									b.has-text-weight-semibold= Schedule
									ul
										each date in sgc.meetingDates.dates
											li= date
								
								+column-card("Meeting Minutes", true)
									ul
										each minute in sgc.meetingMinutes
											li
												+link(minute.link, true)= minute.date

								+column-card("Members")
									+table(["Name", "Position", "Email"])
										tbody
											each member in sgc.members
												tr
													td= member.name
													td= member.position
													td
														+link(`mailto:${member.email}`, false)= member.email

		+section(resources.name, resources.lead, resources.anchorId)
			